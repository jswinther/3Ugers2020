laser "scanpush cmd='zoneobst'"


ignoreobstacles
followline "bl" :($crossingblackline)
drive :($drivendist > 0.1175) %% half robot length to get sensor across black line
ignoreobstacles
followline "bm" :($crossingblackline)
ignoreobstacles
drive :($drivendist > 0.1175) %% half robot length to push box

fwd -0.5
drive @v-0.3 :($l8 > 1 & $l0 > 1 & $l7 > 1 & $l1 > 1) %% laser scanner measerues sides are clear

ignoreobstacles
turn -90 @v0.3

ignoreobstacles
drive @v0.3 :($crossingblackline)
turn 45
ignoreobstacles
followline "bm" @v0.3 :($crossingblackline)
drive :($drivendist > 0.1175)
ignoreobstacles
followline "br" @v0.3 :($crossingblackline)
stop