laser "scanpush cmd='zoneobst'"

stringcat $l0
stringcat $l0
stringcat $l1
stringcat $l2
stringcat $l3
stringcat $l4

ignoreobstacles
drive :($l4 < 0.3)
turn 90

stringcat $l1
stringcat $l0
stringcat $l8
wait 1

wallDist = 0.4


followwall "r" wallDist :($drivendist>0.5)

l8Wall=$l8

stringcat $l8

followwall "r" wallDist :($l8 > l8Wall+0.05)
stop
wait 1





ignoreobstacles
drive @v 0.2 :($drivendist > 0.4)
ignoreobstacles
turn -90
wait 2



ignoreobstacles

fwd 0.7 @v 0.3
stop

ignoreobstacles
fwd -0.7

ignoreobstacles
turn -90

ignoreobstacles
fwd 0.5

walldist=$l0

ignoreobstacles
followwall "l" walldist :($l0>walldist+0.07)
stop

fwd 0.4
stop

ignoreobstacles
turn 90

followline "bm" :($crossingblackline==1)